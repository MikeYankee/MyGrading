{% trans_default_domain 'FOSUserBundle' %}
{% extends '::base.html.twig' %}

{% block head %}
        {% block title %}
            MY E-TimeSheet
        {% endblock title %}
{% endblock head %}
{% block body %}
    {% if error %}
        <div>{{ error|trans}}</div>
    {% endif %}
    <div id="main">
        <div class="rectangle rec4">
            <div class="row" style="margin-top: 20%">

                <h1 id="title" style="text-align: center; color:white">MY E-TimeSheet</h1>

                <form action="{{ path("fos_user_security_check") }}" method="post" style="display: none;">
                    {% if csrf_token %}
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token }}" />
                    {% endif %}
                    <div class="col-md-8 col-sm-push-2"><br><br>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" id="username" name="_username" value="{{ last_username }}" required="required"  class="form-control" placeholder="Identifiant"/>
                        </div>
                        <br />
                        <br />
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input type="password" id="password" name="_password" required="required"  class="form-control" placeholder="Mot de passe" />
                        </div>
                        <input type="checkbox" id="remember_me" name="_remember_me" value="on" />
                        <label for="remember_me" style="color:white">Se souvenir de moi</label>
                    </div>
                    <div class="col-md-8 col-sm-push-5">
                        <input type="submit" id="_submit" name="_submit" value="Connexion" class="btn btn-secondary" style="color: #000;" />
                    </div>
                </form>
            </div>
        </div>
        <div class="rectangle rec1"></div>
        <div class="rectangle rec2"></div>
        <div class="rectangle rec3"></div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

    <script>
        $(document).ready(function() {
            function sleep (time) {
                return new Promise((resolve) => setTimeout(resolve, time));
            }
            sleep(1000).then(() => {
                $('#title').animate({
                marginTop: "-0.6in",
            }, 500 );
        });
            sleep(2000).then(() => {
                $('form').fadeIn(220);
        });
        });
    </script>
{% endblock %}